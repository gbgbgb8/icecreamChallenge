<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Saly's Soft Serve</title>
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Fredoka+One&family=Bubblegum+Sans&display=swap" rel="stylesheet">
    <link rel="icon" href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2290%22>ğŸ¦</text></svg>">
</head>
<body>
    <div class="game-container">
        <header>
            <h1 class="animate__animated animate__bounce">ğŸ¦ Saly's Soft Serve ğŸ¦</h1>
        </header>

        <div class="game-stats">
            <div class="timer">â±ï¸ Time: <span id="time">0</span>s</div>
            <div class="coins">ğŸª™ <span id="coins">0</span></div>
            <div class="level">ğŸ“Š Level: <span id="level">1</span></div>
            <div class="streak">ğŸ”¥ Streak: <span id="streak-counter">0</span></div>
            <div class="difficulty-selector">
                <label for="difficulty">ğŸ”¥ Difficulty:</label>
                <select id="difficulty">
                    <option value="easy" selected>Easy</option>
                    <option value="medium">Medium</option>
                    <option value="hard">Hard</option>
                </select>
            </div>
            <div class="sound-toggle" id="sound-toggle">ğŸ”‡</div>
        </div>

        <!-- Title Screen Modal -->
        <div id="title-screen-modal" class="modal">
            <div class="modal-content title-screen-content">
                <h2 class="animate__animated animate__bounce">ğŸ¦ Welcome to Saly's Soft Serve! ğŸ¦</h2>
                <p>Serve delicious ice cream to happy customers!</p>
                
                <div class="title-screen-options">
                    <div class="title-difficulty-selector">
                        <h3>Select Difficulty:</h3>
                        <div class="difficulty-buttons">
                            <button class="difficulty-button" data-difficulty="easy">Easy</button>
                            <button class="difficulty-button" data-difficulty="medium">Medium</button>
                            <button class="difficulty-button" data-difficulty="hard">Hard</button>
                        </div>
                    </div>
                    
                    <div class="difficulty-description">
                        <h4 id="difficulty-title">Easy Mode</h4>
                        <p id="difficulty-description">More coins per order, easier level-up requirements, simpler orders, and more time for speed bonuses.</p>
                    </div>
                </div>
                
                <button id="start-game-button" class="animate__animated animate__pulse animate__infinite">Start Game!</button>
                <button id="how-to-play-button">How to Play</button>
                <button id="reset-progress-button">Reset Progress</button>
            </div>
        </div>
        
        <!-- How to Play Modal -->
        <div id="how-to-play-modal" class="modal">
            <div class="modal-content how-to-play-content">
                <span class="close">&times;</span>
                <h2>ğŸ¦ How to Play ğŸ¦</h2>
                <div class="how-to-play-steps">
                    <div class="how-to-step">
                        <div class="step-number">1</div>
                        <div class="step-content">
                            <h3>Read the Order</h3>
                            <p>Look at what the customer is asking for in their speech bubble.</p>
                        </div>
                    </div>
                    <div class="how-to-step">
                        <div class="step-number">2</div>
                        <div class="step-content">
                            <h3>Create the Ice Cream</h3>
                            <p>Select the base (cone or cup), then the flavor, and finally any toppings requested.</p>
                        </div>
                    </div>
                    <div class="how-to-step">
                        <div class="step-number">3</div>
                        <div class="step-content">
                            <h3>Serve the Customer</h3>
                            <p>Click the "Serve!" button when your creation matches the order.</p>
                        </div>
                    </div>
                    <div class="how-to-step">
                        <div class="step-number">4</div>
                        <div class="step-content">
                            <h3>Earn Coins & Build Streaks</h3>
                            <p>Correct orders earn coins. Consecutive correct orders build a streak for bonus coins!</p>
                        </div>
                    </div>
                    <div class="how-to-step">
                        <div class="step-number">5</div>
                        <div class="step-content">
                            <h3>Unlock New Items</h3>
                            <p>Visit the shop to spend coins on new flavors and toppings.</p>
                        </div>
                    </div>
                </div>
                <button id="close-how-to-play-button">Got it!</button>
            </div>
        </div>
        
        <div class="game-area">
            <div class="customer-section">
                <div class="customer">
                    <div class="customer-emoji">ğŸ‘§</div>
                    <div class="speech-bubble">
                        <p id="customer-order">I'd like a cone with chocolate ice cream and sprinkles, please!</p>
                    </div>
                </div>
            </div>

            <div class="workstation">
                <div class="current-creation" id="current-creation">
                    <div class="base-item" id="base-display">ğŸ‘‹ Start here!</div>
                </div>
                
                <!-- Feedback container for emojis -->
                <div id="feedback-container" class="feedback-container"></div>

                <div class="ingredients-section">
                    <div class="section-title">Base</div>
                    <div class="ingredients" id="base-items">
                        <div class="ingredient" data-item="cone" aria-label="Cone">
                            <span class="ingredient-emoji">ğŸ¦</span>
                            <span class="ingredient-label">Cone</span>
                        </div>
                        <div class="ingredient" data-item="cup" aria-label="Cup">
                            <span class="ingredient-emoji">ğŸ¥¤</span>
                            <span class="ingredient-label">Cup</span>
                        </div>
                    </div>

                    <div class="section-title">Flavors</div>
                    <div class="ingredients" id="flavor-items">
                        <div class="ingredient" data-item="chocolate" aria-label="Chocolate">
                            <span class="ingredient-emoji">ğŸ«</span>
                            <span class="ingredient-label">Chocolate</span>
                        </div>
                        <div class="ingredient" data-item="strawberry" aria-label="Strawberry">
                            <span class="ingredient-emoji">ğŸ“</span>
                            <span class="ingredient-label">Strawberry</span>
                        </div>
                        <div class="ingredient" data-item="vanilla" aria-label="Vanilla">
                            <span class="ingredient-emoji">ğŸ¨</span>
                            <span class="ingredient-label">Vanilla</span>
                        </div>
                        <div class="ingredient locked" data-item="mint" title="Mint Flavor (50 coins)" aria-label="Mint - Locked">
                            <span class="ingredient-emoji">ğŸ”’</span>
                            <span class="ingredient-label">Mint</span>
                        </div>
                    </div>

                    <div class="section-title">Toppings</div>
                    <div class="ingredients" id="topping-items">
                        <div class="ingredient" data-item="sprinkles" aria-label="Sprinkles">
                            <span class="ingredient-emoji">ğŸŒˆ</span>
                            <span class="ingredient-label">Sprinkles</span>
                        </div>
                        <div class="ingredient" data-item="chocolate-chips" aria-label="Chocolate Chips">
                            <span class="ingredient-emoji">ğŸ’©</span>
                            <span class="ingredient-label">Choc Chips</span>
                        </div>
                        <div class="ingredient locked" data-item="oreos" title="Oreo Topping (75 coins)" aria-label="Oreos - Locked">
                            <span class="ingredient-emoji">ğŸ”’</span>
                            <span class="ingredient-label">Oreos</span>
                        </div>
                        <div class="ingredient locked" data-item="gummy-worms" title="Gummy Worms (100 coins)" aria-label="Gummy Worms - Locked">
                            <span class="ingredient-emoji">ğŸ”’</span>
                            <span class="ingredient-label">Gummy Worms</span>
                        </div>
                    </div>
                </div>
            </div>

            <div class="action-buttons">
                <button id="serve-button">Serve! ğŸ¤²</button>
                <button id="reset-button">Reset ğŸ”„</button>
                <button id="finish-button">Finish ğŸ</button>
            </div>
        </div>

        <div class="shop-section">
            <button id="shop-button">Shop ğŸ›’</button>
        </div>

        <div id="shop-modal" class="modal">
            <div class="modal-content">
                <span class="close">&times;</span>
                <h2>ğŸ›’ Ice Cream Shop</h2>
                <p>Spend your coins to unlock new items!</p>
                <div class="shop-items">
                    <div class="shop-item" data-item="mint" data-cost="50">
                        <div class="item-emoji">ğŸƒ</div>
                        <div class="item-name">Mint Flavor</div>
                        <div class="item-cost">50 ğŸª™</div>
                        <button class="buy-button">Buy</button>
                    </div>
                    <div class="shop-item" data-item="oreos" data-cost="75">
                        <div class="item-emoji">ğŸª</div>
                        <div class="item-name">Oreo Topping</div>
                        <div class="item-cost">75 ğŸª™</div>
                        <button class="buy-button">Buy</button>
                    </div>
                    <div class="shop-item" data-item="gummy-worms" data-cost="100">
                        <div class="item-emoji">ğŸª±</div>
                        <div class="item-name">Gummy Worms</div>
                        <div class="item-cost">100 ğŸª™</div>
                        <button class="buy-button">Buy</button>
                    </div>
                </div>
            </div>
        </div>

        <div id="level-up-modal" class="modal">
            <div class="modal-content level-up-content">
                <h2>ğŸ‰ Level Up! ğŸ‰</h2>
                <p>You've reached level <span id="new-level">2</span>!</p>
                <p>Orders will get more complex, but you'll earn more coins!</p>
                <button id="continue-button">Continue</button>
            </div>
        </div>

        <div id="game-over-modal" class="modal">
            <div class="modal-content game-over-content">
                <h2>ğŸ† Game Complete! ğŸ†</h2>
                <p>You played for <span id="final-time">0</span> seconds!</p>
                <p>You earned <span id="final-coins">0</span> coins!</p>
                <p>You reached level <span id="final-level">1</span>!</p>
                <div class="game-over-buttons">
                    <button id="play-again-button">Play Again</button>
                    <button id="return-to-title-button">Return to Title</button>
                </div>
            </div>
        </div>
    </div>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/howler/2.2.3/howler.min.js"></script>
    <script src="script.js"></script>
</body>
</html>
